---
import { Image } from "astro:assets";
import image1 from "../images/melodell-1.png";
import image2 from "../images/melodell-2.png";
import image3 from "../images/melodell-3.png";
import image4 from "../images/melodell-4.png";

const images = [image1, image2, image3, image4];
---

{
    /* Render all user images on load, layered on top of each other
    This makes sure there isn't any lag when cycling through images on click */
}

<div class="image-wrapper">
    {
        images.map((image) => (
            <Image
                class="user-image"
                src={image}
                alt="Melina O'Dell"
                loading="eager"
                height={500}
                width={500}
            />
        ))
    }
</div>

<script>
    const imageWrapper = document.querySelector(".image-wrapper");
    const images = document.getElementsByClassName("user-image");
    // Show the first image on load
    images[0].classList.add("active");

    // Cycle through the images on click by changing z-index
    let selected = 0;
    imageWrapper?.addEventListener("click", () => {
        images[selected].classList.remove("active");
        selected = (selected + 1) % images.length;
        images[selected].classList.add("active");
    });
</script>

<style>
    .image-wrapper {
        position: relative;
    }

    .user-image {
        position: absolute;
        top: 0;
        left: 0;
    }

    .active {
        z-index: 1;
    }
</style>
